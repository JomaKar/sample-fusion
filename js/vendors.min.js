var validation=$.isFunction($.fn.valid)?1:0;$.fn.isValid=function(){return!validation||this.valid()},validation&&$.validator.setDefaults({errorClass:"invalid",validClass:"valid",errorPlacement:function(i,e){e.is(":radio")||e.is(":checkbox")?i.insertBefore($(e).parent()):i.insertAfter(e)},success:function(i){$(i).closest("li").find("label.invalid:not(:empty)").length||$(i).closest("li").removeClass("wrong")}}),$.fn.getActiveStep=function(){var i=this.find(".step.active");return $(this.children(".step:visible")).index($(i))+1},$.fn.activateStep=function(i){if(!$(this).hasClass("step")){var e=$(this).closest("ul.stepper");e.find(">li").removeAttr("data-last"),window.innerWidth<993||!e.hasClass("horizontal")?$(this).addClass("step").stop().slideDown(400,function(){$(this).css({height:"auto","margin-bottom":"",display:"inherit"}),i&&i(),e.find(">li.step").last().attr("data-last","true")}):$(this).addClass("step").stop().css({width:"0%",display:"inherit"}).animate({width:"100%"},400,function(){$(this).css({height:"auto","margin-bottom":"",display:"inherit"}),i&&i(),e.find(">li.step").last().attr("data-last","true")})}},$.fn.deactivateStep=function(i){if($(this).hasClass("step")){var e=$(this).closest("ul.stepper");e.find(">li").removeAttr("data-last"),window.innerWidth<993||!e.hasClass("horizontal")?$(this).stop().css({transition:"none","-webkit-transition":"margin-bottom none"}).slideUp(400,function(){$(this).removeClass("step").css({height:"auto","margin-bottom":"",transition:"margin-bottom .4s","-webkit-transition":"margin-bottom .4s"}),i&&i(),e.find(">li").removeAttr("data-last"),e.find(">li.step").last().attr("data-last","true")}):$(this).stop().animate({width:"0%"},400,function(){$(this).removeClass("step").hide().css({height:"auto","margin-bottom":"",display:"none",width:""}),i&&i(),e.find(">li.step").last().attr("data-last","true")})}},$.fn.showError=function(i){if(validation){var e=this.attr("name"),t=this.closest("form"),s={};s[e]=i,t.validate().showErrors(s),this.closest("li").addClass("wrong")}else this.removeClass("valid").addClass("invalid"),this.next().attr("data-error",i)},$.fn.activateFeedback=function(){this.find(".step.active:not(.feedbacking)").addClass("feedbacking").find(".step-content").prepend('<div class="wait-feedback"> <div class="preloader-wrapper active"> <div class="spinner-layer spinner-blue"> <div class="circle-clipper left"> <div class="circle"></div></div><div class="gap-patch"> <div class="circle"></div></div><div class="circle-clipper right"> <div class="circle"></div></div></div><div class="spinner-layer spinner-red"> <div class="circle-clipper left"> <div class="circle"></div></div><div class="gap-patch"> <div class="circle"></div></div><div class="circle-clipper right"> <div class="circle"></div></div></div><div class="spinner-layer spinner-yellow"> <div class="circle-clipper left"> <div class="circle"></div></div><div class="gap-patch"> <div class="circle"></div></div><div class="circle-clipper right"> <div class="circle"></div></div></div><div class="spinner-layer spinner-green"> <div class="circle-clipper left"> <div class="circle"></div></div><div class="gap-patch"> <div class="circle"></div></div><div class="circle-clipper right"> <div class="circle"></div></div></div></div></div>')},$.fn.destroyFeedback=function(){var i=this.find(".step.active.feedbacking");return i&&(i.removeClass("feedbacking"),i.find(".wait-feedback").remove()),!0},$.fn.resetStepper=function(i){i||(i=1);var e=$(this).closest("form");return $(e)[0].reset(),Materialize.updateTextFields(),validation&&(e.validate().resetForm(),$(this).find("li.step").removeClass("wrong")),$(this).openStep(i)},$.fn.submitStepper=function(i){var e=this.closest("form");e.isValid()&&e.submit()},$.fn.nextStep=function(i,e,t){var s=$(this).data("settings"),a=this.closest("form"),n=this.find(".step.active"),l=$(this.children(".step:visible")).index($(n))+2,d=n.find(".next-step").length>1?t?$(t.target).data("feedback"):void 0:n.find(".next-step").data("feedback");return a.isValid()?d&&e?(s.showFeedbackLoader&&this.activateFeedback(),window[d].call()):(n.removeClass("wrong").addClass("done"),this.openStep(l,i),this.trigger("nextstep")):n.removeClass("done").addClass("wrong")},$.fn.prevStep=function(i){var e=this.find(".step.active");if(!e.hasClass("feedbacking")){var t=$(this.children(".step:visible")).index($(e));return e.removeClass("wrong"),this.openStep(t,i),this.trigger("prevstep")}},$.fn.openStep=function(i,e){var t=$(this).closest("ul.stepper").data("settings"),s=this,a=i-1;if(!(i=this.find(".step:visible:eq("+a+")")).hasClass("active")){var n=this.find(".step.active"),l=$(this.children(".step:visible")).index($(n)),d=a>l?1:0;n.hasClass("feedbacking")&&s.destroyFeedback(),n.closeAction(d),i.openAction(d,function(){t.autoFocusInput&&i.find("input:enabled:visible:first").focus(),s.trigger("stepchange").trigger("step"+(a+1)),i.data("event")&&s.trigger(i.data("event")),e&&e()})}},$.fn.closeAction=function(i,e){var t=this.removeClass("active").find(".step-content");window.innerWidth<993||!this.closest("ul").hasClass("horizontal")?t.stop().slideUp(300,"easeOutQuad",e):1==i?t.animate({left:"-100%"},function(){t.css({display:"none",left:"0%"},e)}):t.animate({left:"100%"},function(){t.css({display:"none",left:"0%"},e)})},$.fn.openAction=function(i,e){var t=this.removeClass("done").addClass("active").find(".step-content");window.innerWidth<993||!this.closest("ul").hasClass("horizontal")?t.slideDown(300,"easeOutQuad",e):1==i?t.css({left:"100%",display:"block"}).animate({left:"0%"},e):t.css({left:"-100%",display:"block"}).animate({left:"0%"},e)},$.fn.activateStepper=function(i){var e=$.extend({linearStepsNavigation:!0,autoFocusInput:!0,showFeedbackLoader:!0,autoFormCreation:!0},i);$(document).on("click",function(i){$(i.target).parents(".stepper").length||$(".stepper.focused").removeClass("focused")}),$(this).each(function(i,t){var s=$(this);if(!s.parents("form").length&&e.autoFormCreation){var a=s.data("method"),n=s.data("action");a=a||"GET";n=n||"?",s.wrap('<form action="'+n+'" method="'+a+'"></form>')}s.data("settings",{linearStepsNavigation:e.linearStepsNavigation,autoFocusInput:e.autoFocusInput,showFeedbackLoader:e.showFeedbackLoader}),s.find("li.step.active").openAction(1),s.find(">li").removeAttr("data-last"),s.find(">li.step").last().attr("data-last","true"),s.on("click",".step:not(.active)",function(){var i=$(s.children(".step:visible")).index($(this));if(s.hasClass("linear")){if(e.linearStepsNavigation){var t=s.find(".step.active");$(s.children(".step:visible")).index($(t))+1==i?s.nextStep(void 0,!0,void 0):$(s.children(".step:visible")).index($(t))-1==i&&s.prevStep(void 0)}}else s.openStep(i+1)}).on("click",".next-step",function(i){i.preventDefault(),s.nextStep(void 0,!0,i)}).on("click",".previous-step",function(i){i.preventDefault(),s.prevStep(void 0)}).on("click","button:submit:not(.next-step, .previous-step)",function(i){i.preventDefault(),feedback=i?$(i.target).data("feedback"):void 0;var e=s.closest("form");if(e.isValid()){if(feedback)return stepper.activateFeedback(),window[feedback].call();e.submit()}}).on("click",function(){$(".stepper.focused").removeClass("focused"),$(this).addClass("focused")})})};